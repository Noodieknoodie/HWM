# THIS IS VITE 5.4.11 
THE APP IS CURRENTLY 6.0.6  -- IF YOU WISH TO CHANGE TO 5.4.11 THEN PLEASE DO SO BECAUSE THESE DOCS ARE IMPORTANT TO FOLLOW. BUT LETS TALK

"Shared Options: root: project root directory. base: public path. mode: override default mode. define: global constant replacements, e.g., __APP_VERSION__. plugins: array of plugins. publicDir: directory for static assets. cacheDir: directory to save cache files. resolve.alias: alias config. resolve.dedupe: force resolution to same copy. resolve.conditions: additional allowed conditions for conditional exports. resolve.mainFields: fields in package.json to resolve. resolve.extensions: file extensions to try. resolve.preserveSymlinks: preserve symlinks. html.cspNonce: nonce value. css.modules: CSS modules config. css.postcss: inline PostCSS config. css.preprocessorOptions: options to pass to CSS pre-processors (e.g., sass, less). css.preprocessorOptions[extension].additionalData: inject extra code. css.preprocessorMaxWorkers: enable preprocessor workers. css.devSourcemap: enable sourcemaps during dev. css.transformer: CSS processing engine. css.lightningcss: Lightning CSS config. json.namedExports: support named imports from .json files. json.stringify: transform JSON to export default JSON.parse(...). esbuild: esbuild options. assetsInclude: additional patterns for static assets. logLevel: console output verbosity. customLogger: use a custom logger. clearScreen: prevent clearing the terminal screen. envDir: directory for .env files. envPrefix: prefixes for env variables. appType: application type (spa, mpa, custom). server.host: string | boolean; Default: 'localhost'; Specify which IP addresses the server should listen on. server.port: number; Default: 5173; Specify server port. server.strictPort: boolean; Exit if port is already in use. server.https: https.ServerOptions; Enable TLS + HTTP/2. server.open: boolean | string; Automatically open the app in the browser. server.proxy: Record; Configure custom proxy rules. server.cors: boolean | CorsOptions; Configure CORS. server.headers: OutgoingHttpHeaders; Specify server response headers. server.hmr: boolean | { protocol?: string, host?: string, port?: number, path?: string, timeout?: number, overlay?: boolean, clientPort?: number, server?: Server }; Configure HMR connection. server.warmup: { clientFiles?: string[], ssrFiles?: string[] }; Warm up frequently used files. server.watch: object | null; File system watcher options. server.middlewareMode: boolean; Default: false; Create Vite server in middleware mode. server.fs.strict: boolean; Default: true; Restrict serving files outside of workspace root. server.fs.allow: string[]; Allow files to be served via /@fs/. server.fs.deny: string[]; Default: ['.env', '.env.*', '*.{crt,pem}']; Blocklist for sensitive files. server.fs.cachedChecks: boolean; Default: false; Experimental: Caches filenames of accessed directories. server.origin: string; Defines the origin of asset URLs during development. server.sourcemapIgnoreList: false | (sourcePath: string, sourcemapPath: string) => boolean; Default: (sourcePath) => sourcePath.includes('node_modules'); Ignore source files in the server sourcemap. preview.host: string | boolean, server listen IP. preview.port: number, server port. preview.strictPort: boolean, exit if port in use. preview.https: https.ServerOptions, enable TLS/HTTP2. preview.open: boolean | string, auto-open app. preview.proxy: Record, custom proxy rules. preview.cors: boolean | CorsOptions, configure CORS. preview.headers: OutgoingHttpHeaders, specify server response headers. build.target: string | string[]; Default: 'modules'; Browser compatibility target. build.modulePreload: boolean | { polyfill?: boolean, resolveDependencies?: ResolveModulePreloadDependenciesFn }; Default: { polyfill: true }; Enables/disables module preload polyfill. build.outDir: string; Default: dist; Output directory. build.assetsDir: string; Default: assets; Directory for generated assets. build.assetsInlineLimit: number | ((filePath: string, content: Buffer) => boolean | undefined); Default: 4096; Inline assets smaller than this threshold. build.cssCodeSplit: boolean; Default: true; Enables/disables CSS code splitting. build.cssTarget: string | string[]; Default: the same as build.target; Browser target for CSS minification. build.cssMinify: boolean | 'esbuild' | 'lightningcss'; Default: the same as build.minify; Override CSS minification. build.sourcemap: boolean | 'inline' | 'hidden'; Default: false; Generate source maps. build.rollupOptions: RollupOptions; Customize Rollup bundle. build.commonjsOptions: RollupCommonJSOptions; Options for @rollup/plugin-commonjs. build.dynamicImportVarsOptions: RollupDynamicImportVarsOptions; Options for @rollup/plugin-dynamic-import-vars. build.lib: { entry: string | string[] | { [entryAlias: string]: string }, name?: string, formats?: ('es' | 'cjs' | 'umd' | 'iife')[], fileName?: string | ((format: ModuleFormat, entryName: string) => string) }; Build as a library. build.manifest: boolean | string; Default: false; Generate a manifest file. build.ssrManifest: boolean | string; Default: false; Generate an SSR manifest. build.ssr: boolean | string; Default: false; Produce SSR-oriented build. build.ssrEmitAssets: boolean; Default: false; Emit static assets during SSR build. build.minify: boolean | 'terser' | 'esbuild'; Default: 'esbuild' for client build, false for SSR build; Minification options. build.terserOptions: TerserOptions; Additional Terser options. build.write: boolean; Default: true; Disable writing the bundle to disk. build.emptyOutDir: boolean; Default: true if outDir is inside root; Empty the outDir on build. build.copyPublicDir: boolean; Default: true; Copy files from publicDir to outDir. build.reportCompressedSize: boolean; Default: true; Enable/disable gzip-compressed size reporting. build.chunkSizeWarningLimit: number; Default: 500; Limit for chunk size warnings (in kB). build.watch: WatcherOptions| null; Default: null; Enable rollup watcher. Plugins: Extend Vite using Rollup plugins. Add to devDependencies and plugins array in vite.config.js. Enforce plugin order with 'enforce' modifier ('pre', 'default', 'post'). Conditional application with 'apply' ('build', 'serve'). Vite Config: vite.config.js (or .ts). Use --config CLI option to specify file. Supports ES modules syntax. Config Intellisense: Use JSDoc type hints or defineConfig helper. Conditional Config: Export a function: ({ command, mode, isSsrBuild, isPreview }) => {}. command is 'serve' or 'build'. Async Config: Export async function, use defineConfig. Env Variables: Access via process.env. Use loadEnv(mode, process.cwd(), '') to load .env files. Define: { __APP_ENV__: JSON.stringify(env.APP_ENV) }. Backend Integration: Configure `vite.config.js` with `build.manifest: true` and `rollupOptions.input`. Development: include `` and entry script in HTML. Production: use `manifest.json` to generate `` and ` optimizeDeps.entries: string | string[] - Custom entries for dependency pre-bundling, overwrites default inference. Supports fast-glob patterns. Example: ['src/main.js', '!node_modules']. optimizeDeps.exclude: string[] - Dependencies to exclude from pre-bundling. CommonJS dependencies should not be excluded. optimizeDeps.include: string[] - Force linked packages to be pre-bundled. Supports trailing glob patterns for deep imports. Example: ['my-lib/components/**/*.vue']. optimizeDeps.esbuildOptions: Omit<EsbuildBuildOptions, ...> - Options passed to esbuild during dep scanning. 'external' is omitted, use optimizeDeps.exclude instead. optimizeDeps.force: boolean - Force dependency pre-bundling, ignoring cache. optimizeDeps.holdUntilCrawlEnd: boolean - Hold optimized deps until all static imports are crawled. Default: true. Disable to allow parallel browser requests. optimizeDeps.disabled: boolean | 'build' | 'dev' - Deprecated. Disables the optimizer, use optimizeDeps.noDiscovery instead. optimizeDeps.needsInterop: string[] - Forces ESM interop when importing these dependencies. Use when Vite doesn't detect interop needs. Features: NPM Dependency Resolving and Pre-Bundling: Pre-bundles deps with esbuild. HMR: Hot Module Replacement. Vite provides HMR API over native ESM. TypeScript: Supports .ts files. Transpiles only, no type checking. Use tsc --noEmit for type checking. Compiler Options: isolatedModules: true (required). useDefineForClassFields: true (default if target ESNext or ES2022+). target: esnext by default. Use esbuild.target or build.target to configure. Client Types: /// <reference types=\"vite/client\" /> in d.ts. Vue: First-class Vue support via plugins. JSX: .jsx and .tsx supported. Use @vitejs/plugin-vue-jsx for Vue. Configure jsxFactory, jsxFragment via esbuild option. CSS: Importing .css injects CSS with HMR. @import inlining and rebasing supported. PostCSS: Auto-applied if config exists. CSS Modules: .module.css files. Configure via css.modules. CSS Pre-processors: .scss, .sass, .less, .styl, .stylus support. Install pre-processor. Disable CSS injection: use ?inline query parameter. Lightning CSS: Experimental. css.transformer: 'lightningcss'. Requires lightningcss dependency. Static Assets: Importing returns resolved public URL. Use ?url, ?raw, ?worker, ?worker&inline queries. JSON: Direct import supported. Glob Import: import.meta.glob('./dir/*.js', { eager: true, import: 'default', query: '?raw' }). Patterns must be literals. Dynamic Import: const module = await import(./dir/${file}.js). WebAssembly: .wasm?init import. Returns Promise of WebAssembly.Instance. Web Workers: new Worker(new URL('./worker.js', import.meta.url), { type: 'module' }). Content Security Policy (CSP): html.cspNonce adds nonce attributes. Build Optimizations: CSS code splitting, preload directives, async chunk loading optimization. worker.format: 'es' | 'iife', output format. worker.plugins: function returning plugins, applied to worker bundles. worker.rollupOptions: RollupOptions to build worker bundle. ssr.external: string[] | true, externalize dependencies. ssr.noExternal: string | RegExp | (string | RegExp)[] | true, prevent externalization. ssr.target: 'node' | 'webworker', SSR server target. ssr.resolve.conditions: string[], resolve conditions for non-external dependencies. ssr.resolve.externalConditions: string[], resolve conditions for external dependencies. Troubleshooting: CJS Vite CJS Node API deprecated, ensure ESM syntax and correct file extensions. CLI Error: Path with & not supported. \"foo\" resolved to an ESM file. Dev Server: Linux file descriptor/inotify limits may cause stalls. Self-signed SSL certs cause caching issues. 431 Request Header Fields Too Large: reduce header size or use --max-http-header-size. HMR: Case-sensitive imports. Build: CORS error with file protocol. Optimized Dependencies: Force re-optimization with --force after linking. Performance bottlenecks: Use --profile and speedscope.app. Module externalized for browser compatibility: avoid Node.js modules. Syntax/Type Errors: Code in non-strict mode is unsupported. Browser extensions can interfere. Cross drive links on Windows may cause issues. Comparisons: WMR (no longer maintained), @web/dev-server (lower level), Snowpack (no longer maintained, now Astro). Performance: Address slow server starts, page loads, and builds. Browser Setup: Use a dev-only profile/incognito mode. Disable browser cache. Audit Plugins: Avoid large dependencies, optimize hooks, reduce resolve operations. Profiling: Run vite --profile. Reduce Resolve Operations: Be explicit with import paths. TypeScript: Enable \"moduleResolution\": \"bundler\" and \"allowImportingTsExtensions\". Avoid Barrel Files: Import individual APIs directly. Warm Up Files: Use server.warmup. Use Lesser or Native Tooling: CSS instead of preprocessors, native tooling."